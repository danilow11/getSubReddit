(this.webpackJsonpreddit=this.webpackJsonpreddit||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),s=n(9),i=n.n(s),o=n(2),u=n(4),j=n(8),l=function(e){var t=e.post;return t.is_self?Object(c.jsx)("span",{className:"thumbnail self"}):"default"===t.thumbnail?Object(c.jsx)("span",{className:"thumbnail default"}):Object(c.jsx)("img",{className:"thumbnail",alt:"thumbnail",src:t.thumbnail})},d=n(7),b=n.n(d),m=function(e,t){return t?b.a.unix(e).fromNow():b()(e).fromNow()},f=function(e){var t=e.time,n=e.isUnixTime;return Object(c.jsx)("span",{className:"time",children:m(t,n)})},h=function(e){var t=e.post,n=e.onUpvote,a=e.onDownvote;return Object(c.jsxs)("div",{className:"voting",children:[Object(c.jsx)("i",{className:"fa fa-arrow-up",onClick:n}),Object(c.jsx)("div",{className:"score",children:t.score}),Object(c.jsx)("i",{className:"fa fa-arrow-down",onClick:a})]})};var O=function(e){var t=e.post,n=e.onUpvote,a=e.onDownvote;return Object(c.jsxs)("div",{className:"reddit-post",children:[Object(c.jsx)(h,{post:t,onUpvote:function(){return n(t.id)},onDownvote:function(){return a(t.id)}}),Object(c.jsx)(l,{post:t}),Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)("h3",{className:"title",children:Object(c.jsx)("a",{href:t.url,target:"_blank",rel:"noreferrer",children:t.title})}),Object(c.jsxs)("div",{className:"submitted",children:["Submitted ",Object(c.jsx)(f,{time:t.created,isUnixTime:!0})]}),Object(c.jsxs)("a",{className:"comments",href:"https://www.reddit.com".concat(t.permalink),target:"_blank",rel:"noreferrer",children:[t.num_comments," comments"]}),Object(c.jsx)("span",{className:"action",children:"share"}),Object(c.jsx)("span",{className:"action",children:"save"}),Object(c.jsx)("span",{className:"action",children:"hide"})]})]})},x=function(e){var t=e.text;return Object(c.jsx)("div",{className:"error",children:t})};var p=function(e){var t=e.getThis,n=Object(a.useState)([]),r=Object(o.a)(n,2),s=r[0],i=r[1],l=Object(a.useState)(!1),d=Object(o.a)(l,2),b=d[0],m=d[1];Object(a.useEffect)((function(){fetch("https://www.reddit.com/r/".concat(t,".json")).then((function(e){return e.json()})).then((function(e){e.data?(i(e.data.children.map((function(e){return e.data}))),m(!1)):m(!0)})).catch((function(e){m(!0),console.error(e)}))}),[t,i]);var f=function(e){i((function(t){var n=t.findIndex((function(t){return t.id===e})),c=Object(j.a)(t);return c[n]=Object(u.a)(Object(u.a)({},c[n]),{},{score:c[n].score+1}),c}))},h=function(e){i((function(t){var n=t.findIndex((function(t){return t.id===e})),c=Object(j.a)(t);return c[n]=Object(u.a)(Object(u.a)({},c[n]),{},{score:c[n].score-1}),c}))};return Object(a.useMemo)((function(){return b?Object(c.jsx)(x,{text:"There was a problem trying to get the subreddit or it doesn't exist, please try again."}):Object(c.jsx)("ul",{className:"reddit-listing",children:s.sort((function(e,t){return t.score-e.score})).map((function(e){return Object(c.jsx)("li",{children:Object(c.jsx)(O,{post:e,onUpvote:f,onDownvote:h})},e.id)}))})}),[s,b])};var v=function(e){var t=e.handleSubmit,n=e.inputValue,a=e.handleInputChange,r=e.buttonDisabled;return Object(c.jsxs)("form",{onSubmit:t,className:"reddit-form",children:[Object(c.jsx)("input",{value:n,onChange:function(e){return a(e.target.value)},required:!0}),Object(c.jsx)("button",{disabled:r,children:"Get!"})]})};n(16);var N=function(){var e=Object(a.useState)("hardtailgang"),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(n),i=Object(o.a)(s,2),u=i[0],j=i[1],l=Object(a.useState)(!1),d=Object(o.a)(l,2),b=d[0],m=d[1];return Object(c.jsxs)("main",{className:"App",children:[Object(c.jsx)(v,{handleSubmit:function(e){e.preventDefault(),n&&j(n)},inputValue:n,handleInputChange:function(e){r(e),m(!e)},buttonDisabled:b}),Object(c.jsx)(p,{getThis:u})]})};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(N,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.befc4f7b.chunk.js.map